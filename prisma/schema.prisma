generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Product {
  id           String           @id
  name         String
  price        Float
  desc         String?
  details      String?
  image        String?
  sizesJson    Json?
  stock        Int?
  colorsJson   Json?
  sizeGuide    String?
  isClothing   Boolean
  variantStock Json? // JSON con las variantes (si lo usas)
  variants     ProductVariant[] // ðŸ‘ˆ RELACIÃ“N inversa (lista)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model ProductVariant {
  id        String  @id @default(cuid())
  product   Product @relation(fields: [productId], references: [id])
  productId String

  size      String?
  colorName String?
  stock     Int
  sku       String?

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Sale {
  id           String   @id @default(cuid())
  createdAt    DateTime @default(now())
  itemsJson    Json
  total        Float
  customerJson Json?
}
